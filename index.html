<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>セイカクブック - あなたにピッタリな本をお勧め!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-title">
                    <h1>📚 セイカクブック</h1>
                    <p>あなたにピッタリな本をお勧め!</p>
                </div>
                <div class="header-actions">
                    <button id="header-my-books-btn" class="header-btn">
                        <span class="header-btn-icon">📚</span>
                        <span class="header-btn-text">My Books</span>
                    </button>
                    <button id="header-settings-btn" class="header-btn">
                        <span class="header-btn-icon">⚙️</span>
                        <span class="header-btn-text">設定</span>
                    </button>
                </div>
            </div>
        </header>

        <div id="app">
            <!-- ホーム画面 -->
            <div id="home-screen" class="screen active">
                <div class="intro">
                    <h2>📚 本の推薦アプリへようこそ</h2>
                    <p>あなたの性格タイプに基づいて、ぴったりの本を推薦します。</p>
                    <div class="menu-options">
                        <button id="mbti-input-btn" class="menu-btn">
                            <div class="menu-icon">🔤</div>
                            <div class="menu-content">
                                <h3>1. 自分のMBTIを入れる</h3>
                                <p>既に知っているMBTIタイプを入力</p>
                            </div>
                        </button>
                        <button id="strength-input-btn" class="menu-btn">
                            <div class="menu-icon">💪</div>
                            <div class="menu-content">
                                <h3>2. Strength Finderの結果を入れる</h3>
                                <p>Strength Finderの結果を入力</p>
                            </div>
                        </button>
                        <button id="diagnosis-btn" class="menu-btn">
                            <div class="menu-icon">🔍</div>
                            <div class="menu-content">
                                <h3>3. 性格診断をする</h3>
                                <p>16の質問でMBTIタイプを診断</p>
                            </div>
                        </button>
                        <button id="saved-books-btn" class="menu-btn">
                            <div class="menu-icon">📚</div>
                            <div class="menu-content">
                                <h3>4. 保存した本のリスト</h3>
                                <p>保存した本の評価と書評を管理</p>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- MBTI入力画面 -->
            <div id="mbti-input-screen" class="screen">
                <div class="input-container">
                    <h2>MBTIタイプを入力</h2>
                    <p>あなたのMBTIタイプを選択してください</p>
                    <div class="mbti-selector">
                        <select id="mbti-select">
                            <option value="">選択してください</option>
                            <option value="INTJ">INTJ - 建築家</option>
                            <option value="INTP">INTP - 論理学者</option>
                            <option value="ENTJ">ENTJ - 指揮官</option>
                            <option value="ENTP">ENTP - 討論者</option>
                            <option value="INFJ">INFJ - 提唱者</option>
                            <option value="INFP">INFP - 仲介者</option>
                            <option value="ENFJ">ENFJ - 主人公</option>
                            <option value="ENFP">ENFP - 運動家</option>
                            <option value="ISTJ">ISTJ - 管理者</option>
                            <option value="ISFJ">ISFJ - 擁護者</option>
                            <option value="ESTJ">ESTJ - 幹部</option>
                            <option value="ESFJ">ESFJ - 領事官</option>
                            <option value="ISTP">ISTP - 巨匠</option>
                            <option value="ISFP">ISFP - 冒険家</option>
                            <option value="ESTP">ESTP - 起業家</option>
                            <option value="ESFP">ESFP - エンターテイナー</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button id="mbti-submit-btn" class="btn btn-primary">本を推薦する</button>
                        <button id="mbti-back-btn" class="btn btn-secondary">ホームに戻る</button>
                    </div>
                </div>
            </div>

            <!-- Strength Finder入力画面 -->
            <div id="strength-input-screen" class="screen">
                <div class="input-container">
                    <h2>Strength Finderの結果を入力</h2>
                    <p>あなたの上位5つの強みを入力してください</p>
                    <div class="strength-inputs">
                        <div class="strength-input-group">
                            <label>1位の強み</label>
                            <input type="text" id="strength-1" placeholder="例: 学習欲" />
                        </div>
                        <div class="strength-input-group">
                            <label>2位の強み</label>
                            <input type="text" id="strength-2" placeholder="例: 戦略性" />
                        </div>
                        <div class="strength-input-group">
                            <label>3位の強み</label>
                            <input type="text" id="strength-3" placeholder="例: 達成欲" />
                        </div>
                        <div class="strength-input-group">
                            <label>4位の強み</label>
                            <input type="text" id="strength-4" placeholder="例: 分析思考" />
                        </div>
                        <div class="strength-input-group">
                            <label>5位の強み</label>
                            <input type="text" id="strength-5" placeholder="例: 未来志向" />
                        </div>
                    </div>
                    <div class="button-group">
                        <button id="strength-submit-btn" class="btn btn-primary">本を推薦する</button>
                        <button id="strength-back-btn" class="btn btn-secondary">ホームに戻る</button>
                    </div>
                </div>
            </div>

            <!-- 質問画面 -->
            <div id="question-screen" class="screen">
                <div class="progress-bar">
                    <div id="progress" class="progress-fill"></div>
                </div>
                <div class="question-container">
                    <h2 id="question-text"></h2>
                    <div id="options" class="options"></div>
                </div>
                <button id="question-back-btn" class="btn btn-secondary back-btn">ホームに戻る</button>
            </div>

            <!-- 結果画面 -->
            <div id="result-screen" class="screen">
                <div class="result-container">
                    <h2>あなたのMBTIタイプは</h2>
                    <div id="mbti-type" class="mbti-badge"></div>
                    <p id="type-description" class="type-description"></p>
                    
                    <div class="recommended-books">
                        <h3>📖 あなたにおすすめの本</h3>
                        <div id="books-list" class="books-list"></div>
                    </div>

                    <div class="button-group">
                        <button id="restart-btn" class="btn btn-secondary">もう一度診断する</button>
                        <button id="home-btn" class="btn btn-secondary">ホームに戻る</button>
                    </div>
                </div>
            </div>

            <!-- 保存した本のリスト画面 -->
            <div id="saved-books-screen" class="screen">
                <div class="saved-books-container">
                    <h2>📚 My Books</h2>
                    <div class="book-stats">
                        <div class="stat-item">
                            <span class="stat-icon">📖</span>
                            <span class="stat-label">読みたい</span>
                            <span class="stat-count" id="stat-want-to-read">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">📚</span>
                            <span class="stat-label">読んでる</span>
                            <span class="stat-count" id="stat-reading">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">✅</span>
                            <span class="stat-label">読んだ！</span>
                            <span class="stat-count" id="stat-read">0</span>
                        </div>
                    </div>
                    <div id="saved-books-list" class="saved-books-list"></div>
                    <div class="button-group">
                        <button id="saved-books-back-btn" class="btn btn-secondary">ホームに戻る</button>
                    </div>
                </div>
            </div>

            <!-- 設定画面 -->
            <div id="settings-screen" class="screen">
                <div class="settings-container">
                    <h2>⚙️ 設定</h2>
                    <div class="settings-section">
                        <h3>Amazonアフィリエイト設定</h3>
                        <p class="settings-description">Amazonアフィリエイトタグを設定すると、本のリンクに自動的にタグが追加されます。</p>
                        <div class="settings-input-group">
                            <label for="affiliate-tag">アフィリエイトタグ</label>
                            <input type="text" id="affiliate-tag" placeholder="例: yourtag-22" />
                            <small>アフィリエイトタグを入力してください（例: yourtag-22）</small>
                        </div>
                        <div class="button-group">
                            <button id="save-settings-btn" class="btn btn-primary">保存</button>
                            <button id="settings-back-btn" class="btn btn-secondary">戻る</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 本の詳細・編集画面 -->
            <div id="book-detail-screen" class="screen">
                <div class="book-detail-container">
                    <h2 id="detail-book-title"></h2>
                    <div class="book-detail-info">
                        <p id="detail-book-author"></p>
                        <p id="detail-book-description"></p>
                    </div>
                    
                    <div class="status-section">
                        <h3>読書ステータス</h3>
                        <div class="status-buttons">
                            <button class="status-btn" data-status="want-to-read">
                                <span class="status-icon">📖</span>
                                <span class="status-label">読みたい</span>
                            </button>
                            <button class="status-btn" data-status="reading">
                                <span class="status-icon">📚</span>
                                <span class="status-label">読んでる</span>
                            </button>
                            <button class="status-btn" data-status="read">
                                <span class="status-icon">✅</span>
                                <span class="status-label">読んだ！</span>
                            </button>
                        </div>
                    </div>

                    <div class="rating-section" id="rating-section" style="display: none;">
                        <h3>星評価</h3>
                        <div class="star-rating" id="star-rating">
                            <span class="star" data-rating="1">⭐</span>
                            <span class="star" data-rating="2">⭐</span>
                            <span class="star" data-rating="3">⭐</span>
                            <span class="star" data-rating="4">⭐</span>
                            <span class="star" data-rating="5">⭐</span>
                        </div>
                        <p id="rating-text" class="rating-text">評価を選択してください</p>
                    </div>

                    <div class="review-section" id="review-section" style="display: none;">
                        <h3>書評</h3>
                        <textarea id="book-review" class="review-textarea" placeholder="この本についての感想や書評を入力してください..."></textarea>
                    </div>

                    <div class="button-group">
                        <button id="save-review-btn" class="btn btn-primary">保存</button>
                        <button id="delete-book-btn" class="btn btn-danger">削除</button>
                        <button id="detail-back-btn" class="btn btn-secondary">戻る</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="mbti-data.js"></script>
    <script src="app.js"></script>
</body>
</html>
